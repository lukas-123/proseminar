%l%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Beamer Presentation
% LaTeX Template
% Version 1.0 (10/11/12)
%
% This template has been downloaded from:
% http://www.LaTeXTemplates.com
%
% License:
% CC BY-NC-SA 3.0 (http://creativecommons.org/licenses/by-nc-sa/3.0/)
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%----------------------------------------------------------------------------------------
%	PACKAGES AND THEMES
%----------------------------------------------------------------------------------------

\documentclass{beamer}

\mode<presentation>{% The Beamer class comes with a number of default slide themes
% which change the colors and layouts of slides. Below this is a list
% of all the themes, uncomment each in turn to see what they look like.

%\usetheme{default}
%\usetheme{AnnArbor}
%\usetheme{Antibes}
%\usetheme{Bergen}
%\usetheme{Berkeley}
\usetheme{Berlin}
%\usetheme{Boadilla}
%\usetheme{CambridgeUS}
%\usetheme{Copenhagen}
%\usetheme{Darmstadt}
%\usetheme{Dresden}
%\usetheme{Frankfurt}
%\usetheme{Goettingen}
%\usetheme{Hannover}
%\usetheme{Ilmenau}
%\usetheme{JuanLesPins}
%\usetheme{Luebeck}
%\usetheme{Madrid}
%\usetheme{Malmoe}
%\usetheme{Marburg}
%\usetheme{Montpellier}
%\usetheme{PaloAlto}
%\usetheme{Pittsburgh}
%\usetheme{Rochester}
%\usetheme{Singapore}
%\usetheme{Szeged}
%\usetheme{Warsaw}

% As well as themes, the Beamer class has a number of color themes
% for any slide theme. Uncomment each of these in turn to see how it
% changes the colors of your current slide theme.

%\usecolortheme{albatross}
%\usecolortheme{beaver}
%\usecolortheme{beetle}
%\usecolortheme{crane}
%\usecolortheme{dolphin}
%\usecolortheme{dove}
%\usecolortheme{fly}
%\usecolortheme{lily}
%\usecolortheme{orchid}
%\usecolortheme{rose}
%\usecolortheme{seagull}
%\usecolortheme{seahorse}
%\usecolortheme{whale}
%\usecolortheme{wolverine}

\setbeamertemplate{footline} % To remove the footer line in all slides uncomment this line
%\setbeamertemplate{footline}[page number] % To replace the footer line in all slides with a simple slide count uncomment this line

%\setbeamertemplate{navigation symbols}{} % To remove the navigation symbols from the bottom of all slides uncomment this line
}

%% Deutsche Silbentrennung und Sprache (neue Rechtschreibung)
\usepackage[ngerman]{babel}
%% Verwende Umlaute direkt
\usepackage[utf8x]{inputenc}

\usepackage{graphicx} % Allows including images
\usepackage{booktabs} % Allows the use of \toprule, \midrule and \bottomrule in tables


%% Hyperlinks für interne Referenzen
\usepackage{hyperref}
%% Grafiken einbinden
\usepackage{graphicx}
\usepackage{float}
%% Paket für Unterabbildungen pro Abbildung
\usepackage{subfig}
%% Paket fuer mehrere Spalten
\usepackage{multicol}

\usepackage{forloop}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\newcommand*\Let[2]{\State #1 $\gets$ #2}
\algrenewcomment[1]{\(\qquad \triangleright\) #1}
\algrenewcommand\algorithmicrequire{\textbf{Precondition:}}

\usepackage{mathtools}
% Proof system
\usepackage{amsthm}

\theoremstyle{plain}
\newtheorem{thm}{Satz}[section]
\newtheorem{lem}[thm]{Lemma}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition}
\newtheorem{bsp}[thm]{Beispiel}

\newtheoremstyle{rem} % name
    {\topsep}                    % Space above
    {\topsep}                    % Space below
    {}                   % Body font
    {}                           % Indent amount
    {\bf}                   % Theorem head font
    {:}                          % Punctuation after theorem head
    {.5em}                       % Space after theorem head
    {}  % Theorem head spec (can be left empty, meaning ‘normal’)

\theoremstyle{rem}
\newtheorem*{remark}{Bemerkung}

%\usepackage{xpatch}
%\makeatletter
%% Remove last point from definitions, theorems, etc.
%\xpatchcmd{\@thm}{\thm@headpunct{.}}{\thm@headpunct{\\}}{}{}
%\makeatother

% Zitate
\usepackage{cite}
% Tabellen
\usepackage{colortbl}
\definecolor{lightblue}{HTML}{8ADAF2}
\definecolor{lightred}{HTML}{F2A28A}
\definecolor{lightgreen}{HTML}{A6F28A}
\definecolor{darkgreen}{HTML}{43A822}
\definecolor{grey}{HTML}{AAAAAA}

% Graphs
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usepackage{pgfplots}
\usepgfplotslibrary{fillbetween}
\pgfplotsset{compat=1.12,
    every axis/.append style={
                    axis x line=middle,    % put the x axis in the middle
                    axis y line=middle,    % put the y axis in the middle
                    axis line style={->,color=black}, % arrows on the axis
                    xlabel={$x$},          % default put x on x-axis
                    ylabel={$y$},          % default put y on y-axis
				}}
\newcommand{\pgtwo}{PG(2, $\mathbb{F}$)\ }
\newcommand{\fnz}{\mathbb{F}\setminus\{0\}}
\newcommand{\ftwnz}{\mathbb{F}^{2}\setminus\{\boldsymbol 0\}}
\newcommand{\ftnz}{\mathbb{F}^{3}\setminus\{\boldsymbol 0\}}
\newcommand{\pu}{\mathcal{P}_U}
\newcommand{\gu}{\mathcal{G}_U}
\newcommand{\patinf}{\mathcal{O}}

%Rename of Literatur to Literaturverzeichnis
\addto{\captionsngerman}{\renewcommand{\refname}{Literaturverzeichnis}}

%----------------------------------------------------------------------------------------
%	TITLE PAGE
%----------------------------------------------------------------------------------------

\title[Elliptische-Kurven-Kryptographie]{Elliptische Kurven Kryptographie} % The short title appears at the bottom of every slide, the full title is only on the title page

\author{Kevin Kappelmann, Lukas Stevens} % Your name
\institute[TUM] % Your institution as it will appear on the bottom of every slide, may be shorthand to save space
{Technische Universität München \\ % Your institution for the title page
}
\date{\today} % Date, can be changed to a custom date

\begin{document}

\begin{frame}
\titlepage % Print the title page as the first slide
\end{frame}


%----------------------------------------------------------------------------------------
%	PRESENTATION SLIDES
%----------------------------------------------------------------------------------------
\section{Einleitung}
%------------------------------------------------

\begin{frame}
\frametitle{\insertsection}
\begin{table}[h]
\centering
	\begin{tabular}{| c | c | c |}
	\hline
	\rowcolor{lightblue}
	Sicherheitsniveau & RSA/Diffie-Hellman & Elliptische-Kurven\\ \hline
	\rowcolor{lightred}
	$\le80$ 	& 1024 & 160-223 \\ \hline
	\rowcolor{lightgreen}
	112 	& 2048 & 224-255 \\ \hline
	\rowcolor{lightgreen}
	128 	& 3072 & 256-383 \\ \hline
	\rowcolor{lightgreen}
	192 	& 7680 & 384-511 \\ \hline
	\rowcolor{lightgreen}
	256 	& 15360 & 512+ \\ \hline
	\end{tabular}
\caption{Vergleich Schlüssellängen}
\end{table}
\end{frame}

%------------------------------------------------
% Overview slide
%------------------------------------------------

\begin{frame}
	\frametitle{Überblick} % Table of contents slide, comment this block out to remove it
\begin{multicols}{2}
\tableofcontents
\end{multicols}
\end{frame}

%------------------------------------------------

\section{Grundbegriffe}
\subsection{Affine Ebenen}
\begin{frame}
    \frametitle{Definition affiner Ebenen}
    \begin{definition}
        Es sei $\mathcal{A}$ eine Menge von Punkten und $\mathcal{G}$ eine Menge von Geraden mit $\mathcal{G} \subseteq Pot(A)$.
        Bei $(\mathcal{A},\mathcal{G})$ handelt es sich um eine affine Ebene, wenn folgende Bedingungen erfüllt sind:
        \begin{enumerate}[<+->]
            \item Zu je zwei Elementen $a, b\in \mathcal{A}$ mit $a\ne b$ existiert genau ein $G\in\mathcal{G}$ mit $a, b \in G$. \\
            \item Zu $G\in\mathcal{G}$ und $a\in\mathcal{A}\setminus G$ existiert genau ein $G'\in\mathcal{G}$ mit $a\in G'$ und $G\cap G'=\emptyset$. \\
            \item Es existieren drei Elemente $a,b,c\in\mathcal{A}$ mit $c\notin\overline{a,b}$. \\
        \end{enumerate}
    \end{definition}
\end{frame}
\subsection{Projektive Ebenen}
\begin{frame}
    \frametitle{Definition projektiver Ebenen}
    \begin{definition}
        Es sei $\mathcal{A}$ eine Menge von Punkten und $\mathcal{G}$ eine Menge von Geraden mit $\mathcal{G} \subseteq Pot(A)$.
        Bei $(\mathcal{A},\mathcal{G})$ handelt es sich um eine projektive Ebene, wenn folgende Bedingungen erfüllt sind:
	\begin{enumerate}[<+->]
		\item Zu je zwei Elementen $P, Q\in \mathcal{P}$ mit $P\ne Q$ existiert genau ein $G\in\mathcal{G}$ mit $P, Q \in G$. \\
		\item Für je zwei $G,H\in\mathcal{G}$ mit $G\ne H$ gilt $|G\cap H|=1$.
		\item Es existieren vier verschiedene Elemente in $\mathcal{P}$, sodass immer höchstens zwei davon in jedem beliebigen $G\in\mathcal{G}$ liegen.
	\end{enumerate}
    \end{definition}
\end{frame}
\begin{frame}
    \frametitle{\pgtwo}
\end{frame}
\begin{frame}
    \frametitle{Konstruktion affiner Ebenen aus projektiven Ebenen}

    \begin{figure}[H]
        \centering
        \scalebox{.75}{
            \visible<2->{\subfloat{
                    \begin{tikzpicture}[node distance=1.5cm,main node/.style={circle,fill=black,scale=0.75}]

                        \node at (1.5,0) [main node] (A) [label={[label]180:$A$}] {};
                        \node at (0.63,-1.5) [main node] (B) [label={[label]180:$B$}] {};
                        \node at (-0.15,-3)[main node] (C) [label={[label]270:$C$}] {};
                        \node at (1.5,-3) [main node] (D) [label={[label]270:$D$}] {};
                        \node at (3.15,-3) [main node] (E) [label={[label]270:$E$}] {};
                        \node at (2.37,-1.5) [main node] (F) [label={[label]0:$F$}] {};
                        \node at (1.5,-2) [main node] (G) [label={[label]0:$G$}] {};

                        \draw (A) -- (B) -- (C) -- (D) -- (E) -- (F) -- (A)
                        (B) -- (G) -- (D)
                        (G) -- (F);
                        \draw (G) -- (E);
                        \draw (G) -- (A);
                        \draw (G) -- (C);

                        \draw (1.5,-2) circle [radius=1];

                    \end{tikzpicture}}}
            \qquad
            \visible<3->{\subfloat{
                    \begin{tikzpicture}[node distance=1.5cm,main node/.style={circle,fill=black,scale=0.75}]

                        \node at (1.5,0) [main node] (A) [label={[label]180:$A$}] {};
                        \node at (0.63,-1.5) [main node] (B) [label={[label]180:$B$}] {};
                        \node at (-0.15,-3)[main node] (C) [label={[label]270:$C$}] {};
                        \node at (1.5,-3) [main node] (D) [label={[label]270:$D$}] {};
                        \node at (3.15,-3) [main node] (E) [label={[label]270:$E$}] {};
                        \node at (2.37,-1.5) [main node] (F) [label={[label]0:$F$}] {};
                        \node at (1.5,-2) [main node] (G) [label={[label]0:$G$}] {};

                        \draw (A) -- (B) -- (C) -- (D) -- (E) -- (F) -- (A)
                        (B) -- (G) -- (D)
                        (G) -- (F);
                        \draw (G) -- (E);
                        \draw (G) -- (A);
                        \draw (G) -- (C);
                    \end{tikzpicture}}}
            \qquad
            \visible<4->{\subfloat{
                    \begin{tikzpicture}[node distance=1.5cm,main node/.style={circle,fill=black,scale=0.75}]

                        \node at (1.5,0) [main node] (A) [label={[label]180:$A$}] {};
                        \node at (-0.15,-3)[main node] (C) [label={[label]270:$C$}] {};
                        \node at (3.15,-3) [main node] (E) [label={[label]270:$E$}] {};
                        \node at (1.5,-2) [main node] (G) [label={[label]0:$G$}] {};

                        \draw (A) -- (C) -- (E)  -- (A);
                        \draw (G) -- (E);
                        \draw (G) -- (A);
                        \draw (G) -- (C);
                    \end{tikzpicture}}}
        }
        \caption{Von der Fano-Ebene zur minimalen affinen Ebene}
    \end{figure}
\end{frame}

%------------------------------------------------
\section{Elliptische Kurven $E$}
%------------------------------------------------

\subsection{Weierstraß-Gleichung}
%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
Erinnerung: Punktemenge von \pgtwo
\begin{equation*}
    P = \left\{(x:y:z) \mid (x,y,z) \in \ftnz \right\}
\end{equation*}
\vspace{-6mm}
\begin{defn}
Wir setzen:
\vspace{-3mm}
\begin{equation*}
	    F(X,Y,Z)\coloneqq Y^2Z + a_1XYZ + a_3YZ^2 - X^3 - a_2X^2Z - a_4XZ^2 - a_6Z^3
\end{equation*}
Eine elliptische Kurve $E\subseteq P$ ist durch die Lösung der \textbf{Weierstraß-Gleichung}
\vspace{-3mm}
\begin{equation*}
	    F(X,Y,Z)=0
\end{equation*}
        gegeben, wobei $a_i \in \mathbb{F}$ gilt und die Lösung keine Singularitäten besitzen darf.
\end{defn}
\end{frame}

%------------------------------------------------
\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
\begin{itemize}[<+->]
	\item  Wir schränken ein: Die \textit{Charakteristik} des Körpers $\mathbb{F}$ soll nicht 2 und nicht 3 sein: $char \: \mathbb{F} \neq 2,3$.
	\item Dies bedeutet, dass $1 + 1 \neq 0$ bzw.\ $1 + 1 + 1 \neq 0$, wobei $0,1$ die neutralen Elemente der Addition bzw.\ Multiplikation von $\mathbb{F}$ sind.
	\item Unter diesen Voraussetzungen können wir die Weierstraß-Gleichung vereinfachen zu:
    \begin{equation*}
        0=Y^2Z - X^3 - aXZ^2 - bZ^3
    \end{equation*}
\end{itemize}
\end{frame}

%------------------------------------------------
\subsection{Affine Darstellung}
%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
\begin{itemize}[<+->]
	\item Betrachte $U\coloneqq\overline{P,Q}$ mit $P=(1:0:0),Q=(0:1:0)$.
	\item U ist im dreidimensionalen Raum genau die x,y-Ebene mit $z=0$.
		\begin{figure}[H]
		\tdplotsetmaincoords{80}{100}
		\begin{tikzpicture}[
				tdplot_main_coords,
				axis/.style={->,black},
				line/.style={thick,red},
				scale=0.6]

			% coordinates in (z,x,y)
			\filldraw[
				draw=darkgreen,%
				fill=darkgreen!20,%
			    ]          (0,-2.5,-2.5)
				    -- (0,-2.5,2.5)
				    -- (0,2.5,2.5)
				    -- (0,2.5,-2.5)
				    -- cycle;

			%draw the axes
			\draw[axis] (0,-3,0) -- (0,3,0) node[anchor=west]{$x$};
			\draw[axis] (0,0,-3) -- (0,0,3) node[anchor=west]{$y$};
			\draw[axis] (10,0,0) -- (-10,0,0) node[anchor=west]{$z$};

			\draw[line] (0,-2,0) -- (0,2,0) node[anchor=north]{$P=(1:0:0)$};
			\draw[line,blue] (0,0,-2) -- (0,0,2) node[anchor=east]{$Q=(0:1:0)$};
			\node[darkgreen] at (11,5.9,0) {$U=\overline{P,Q}$};
		\end{tikzpicture}
		\end{figure}
	\item Wir bezeichnen $U$ als die \textbf{unendlich ferne Gerade}.
\end{itemize}
\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
\begin{itemize}[<+->]
	\item Wir betrachten die elliptische Kurve
		\begin{equation*}
			E=\{(X:Y:Z)\mid 0=Y^2Z - X^3 - aXZ^2 - bZ^3\}
		\end{equation*}
	\item und die unendlich ferne Gerade
	\begin{equation*}
			U=\{(x:y:0)\mid a,b\in\mathbb{F}\}
	\end{equation*}
	\item Es gilt: $U\cap E=(0:1:0)\eqqcolon\patinf$, d.h.\ der einzige Punkt von U, der auf der Kurve $E$ liegt, ist $\patinf$.
	\item Wir bezeichnen $\patinf$ als den \textbf{unendlich fernen Punkt}.
\end{itemize}
\end{frame}


%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
\begin{itemize}[<+->]
	\item Für alle anderen Punkte $P\in E$ ist die z-Koordinate $\ne 0$, d.h.\ alle Punkte außer $\patinf$ liegen im affinen Teil $E\setminus U$.
	\item Wir können also $P \in \left\{(x:y:1) \mid x,y \in \mathbb{F} \right\}$ annehmen.
	\item Die Weierstraß-Gleichung für diese Punkte vereinfacht sich zu:
	\begin{equation*}
    		f(x,y) \coloneqq y^2 - x^3 - ax - b
	\end{equation*}
	\item Insgesamt gilt also:
		\begin{equation*}
		E = \left\{(x:y:1) \mid (x,y) \in \mathbb{F}^2 \land f(x,y) = 0 \right\} \cup \left\{ \patinf \right\}
		\end{equation*}
\end{itemize}
\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
\begin{figure}[H]
        \centering
        \subfloat[$y^2=x^3 + 0.5x + 2$]{
            \begin{tikzpicture}
                \begin{axis}[
                    axis equal,
                    scale=0.7
                    ]
                    \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                        set size square;
                        set xrange [-3:3];
                        set yrange [-3:3];
                        set contour base;
                        set cntrparam levels incre 0,0.1,0;
                        unset surface;
                        set isosamples 1000, 1000;
                        splot y**2 - x**3 - 0.5*x - 2
                    };
                \end{axis}
            \end{tikzpicture}}
        \qquad
        \subfloat[$y^2=x^3 - 2x$]{
            \begin{tikzpicture}
                \begin{axis}[
                    scale=0.7,
                    axis equal,
                    ]
                    \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                        set size square;
                        set xrange [-3:3];
                        set yrange [-3:3];
                        set contour base;
                        set cntrparam levels incre 0,0.1,0;
                        unset surface;
                        set isosamples 1000, 1000;
                        splot y**2 - x**3 + 2*x
                    };
                \end{axis}
            \end{tikzpicture}}
        \caption{Affine Darstellung elliptischer Kurven}
    \end{figure}
\end{frame}

%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~\insertsubsection}
\begin{defn}
	Eine Kurve $E$ ist \textbf{singulär} in einem Punkt \mbox{$P=(a:b:c)\in E$}, wenn gilt:
    \begin{equation*}
        \frac{\partial F}{\partial X}(P) = \frac{\partial F}{\partial Y}(P) =  \frac{\partial F}{\partial Z}(P) = 0
    \end{equation*}
\end{defn}
    \begin{figure}[H]
        \centering
        \subfloat[$y^2=x^3+x^2$]{
            \begin{tikzpicture}
                \begin{axis}[
                    scale=0.4,
                    ticks = none,
                    axis equal,
                    restrict y to domain = -4:4,
                    restrict x to domain = -1:1.6,
                    ]
                    \addplot [color=red, domain = -4:4, samples = 300, unbounded coords=jump]
                    ({1/(x^3 - 1)}, { (x/(x^3 - 1))^1.5});
                    \addplot [color=red, domain = -4:4, samples = 300, unbounded coords=jump]
                    ({1/(x^3 - 1)}, {-(x/(x^3 - 1))^1.5});
                \end{axis}
            \end{tikzpicture}}
        \qquad
        \subfloat[$y^2=x^3$]{
            \begin{tikzpicture}
                \begin{axis}[
                    scale=0.4,
                    ticks = none,
                    axis equal,
                    ]
                    \addplot [color=red, domain=-2:2, samples=300, unbounded coords=jump]
                    {sqrt(x^3)};
                    \addplot [color=red, domain=-2:2, samples=300, unbounded coords=jump]
                    {-sqrt(x^3)};
                \end{axis}
            \end{tikzpicture}}
        \caption{Kurven mit Singularitäten (Knoten und Spitze)}
    \end{figure}
\end{frame}

%------------------------------------------------
\section{Eine Gruppe über $E$}
%------------------------------------------------

\begin{frame}
\frametitle{\insertsection~--~Voraussetzungen}
\begin{itemize}
    \item Es gelte $char\ \mathbb{F}\ne2,3$
    \item $E$ sei nicht singulär.
\end{itemize}
\end{frame}

%------------------------------------------------
\subsection{Tangenten und Geraden}
%------------------------------------------------

\begin{frame}
\frametitle{Tangenten}
\begin{defn}
    Es sei $P$ ein Punkt der elliptischen Kurve $E$. Wir definieren die Tangente an $E$ im Punkt $P$:
    \begin{equation*}
        T_P\coloneqq\left\{(u:v:w)\in\mathcal{P}\mid\frac{\partial F}{\partial X}(P)u+\frac{\partial F}{\partial Y}(P)v+\frac{\partial F}{\partial Z}(P)w=0\right\}
    \end{equation*}
\end{defn}
\end{frame}

\begin{frame}
    \frametitle{Geraden}
    \begin{enumerate}[<+->]
        \item Unendlich ferne Gerade $U$
        \item Affine Geraden: $y = kx +d$
        \item Parallele zur $y$-Achse: $v + \lambda (0,1)$ mit $v=(x,y)$ und $\lambda \in \mathbb{F}$
    \end{enumerate}
\end{frame}

%------------------------------------------------
\subsection{Die Verknüpfung $\oplus$}
%------------------------------------------------

\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
    \begin{figure}[H]
        \centering
        \begin{tikzpicture}
            \begin{axis}[
                axis equal,
                ]

                \draw (0,1) node[label={260:\footnotesize $Q$}](Q){\textbullet};
                \draw (-1,1) node[label={270:\footnotesize $P$}](P){\textbullet};
                % quad for label positioning
                \draw (1,1) node[label={90:\footnotesize $P \oplus Q \quad $}](PQ){\textbullet};
                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                    set size square;
                    set xrange [-3:3];
                    set yrange [-2:2];
                    set contour base;
                    set cntrparam levels incre 0,0.1,0;
                    unset surface;
                    set isosamples 1000, 1000;
                    splot y**2 - x**3 + x - 1
                };
                \addplot [thick, color=blue, domain=-2.5:2.5] {1};
            \end{axis}
        \end{tikzpicture}
        \caption{$P \oplus Q$}
    \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Vereinbarungen}
    \begin{figure}[H]
        \centering
        \setcounter{subfigure}{0}
        \scalebox{0.7}{
            \visible<2->{\subfloat[$P \oplus P$]{
                    \begin{tikzpicture}
                        \begin{axis}[
                            axis equal,
                            ]
                            \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                set size square;
                                set xrange [-2:2];
                                set yrange [-2:2];
                                set contour base;
                                set cntrparam levels incre 0,0.1,0;
                                unset surface;
                                set isosamples 1000, 1000;
                                splot y**2 - x**3 - x - 1 
                            };
                            \addplot [color=blue, domain=-1.5:1]{1.42886*x + 1.3282};
                            \draw (-0.5,0.61372) node{\textbullet};
                        \end{axis}
                    \end{tikzpicture}}}
            \qquad
            \visible<3->{\subfloat[$P \oplus P=P$]{
                    \begin{tikzpicture}
                        \begin{axis}[
                            axis equal,
                            ]

                            \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                set size square;
                                set xrange [-2:2];
                                set yrange [-2:2];
                                set contour base;
                                set cntrparam levels incre 0,0.1,0;
                                unset surface;
                                set isosamples 1000, 1000;
                                splot y**2 - x**3 + x - 1
                            };
                            \draw[color=blue] ({axis cs:-1.3247,0}|-{rel axis cs:0,0}) -- ({axis cs:-1.3247,0}|-{rel axis cs:0,1});
                            \draw (-1.3247,0) node{\textbullet};
                        \end{axis}
                    \end{tikzpicture}}}
        }
        \caption{Vereinbarungen(1)}
    \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Vereinbarungen}
    \setcounter{subfigure}{0}
    \begin{figure}[H]
        \centering
        \subfloat[$P \oplus Q = P$]{
            \begin{tikzpicture}
                \begin{axis}[
                    axis equal,
                    scale=0.8,
                    ytick={-2,2},
                    xtick={-2,2},
                    ]
                    \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                        set size square;
                        set xrange [-2:2];
                        set yrange [-2:2];
                        set contour base;
                        set cntrparam levels incre 0,0.1,0;
                        unset surface;
                        set isosamples 1000, 1000;
                        splot y**2 - x**3 + x 
                    };
                    \addplot [color=blue, domain=-1.5:1.75]{0.839146*x + -0.274337};
                    \draw (-0.25,-0.484123) node[outer sep=0pt, inner sep=0pt, label={270:\footnotesize $P$}](P) {\textbullet};
                    \draw (1.2042, 0.73621) node[inner sep=0pt, label={300:\footnotesize $Q$}](Q) {\textbullet};
                \end{axis}
            \end{tikzpicture}}
        \caption{Vereinbarungen(2)}
    \end{figure}
\end{frame}

\begin{frame}
    \frametitle{Kommutativität und Abgeschlossenheit}
    \begin{columns}
        \column[t]{.50\textwidth}
        Fallunterscheidung für $P \oplus Q = R$:
        \begin{enumerate}
            \item<2-> {\makebox[3cm]{$P = Q = \patinf$: \hfill} $\patinf \oplus \patinf = \patinf$}
            \item<3-> {\makebox[3cm]{$P = \patinf$: \hfill} $\patinf \oplus Q = -Q$}
            \item<5-> {\makebox[3cm]{$P = -Q$: \hfill} $P \oplus (-P) = \patinf$}
            \item<7-> {\makebox[3cm]{$P \neq \pm Q$: \hfill} $P \oplus Q = R$}
            \item<9-> {\makebox[3cm]{$P = Q \neq -P$: \hfill} $P \oplus P = R$}
        \end{enumerate}
        \column[t]{.50\textwidth}
        \only<4>{
            \begin{figure}[H]
                \centering
                \scalebox{0.7}{
                    \subfloat[$\patinf \oplus Q=-Q$]{
                        \begin{tikzpicture}
                            \begin{axis}[
                                axis equal,
                                ]

                                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                    set size square;
                                    set xrange [-2:2];
                                    set yrange [-2:2];
                                    set contour base;
                                    set cntrparam levels incre 0,0.1,0;
                                    unset surface;
                                    set isosamples 1000, 1000;
                                    splot y**2 - x**3 + x - 1
                                };
                                \draw[color=blue] ({axis cs:0.5,0}|-{rel axis cs:0,0}) -- ({axis cs:0.5,0}|-{rel axis cs:0,1});
                                \draw (0.5,0.790569) node[outer sep=0pt, label={300:\footnotesize $R = -Q$}](R) {\textbullet};
                                \draw (0.5,-0.790569) node[inner sep=0pt, label={300:\footnotesize $Q$}](Q) {\textbullet};
                            \end{axis}
                        \end{tikzpicture}}}
            \end{figure}
        }
        \only<6>{
            \begin{figure}[H]
                \centering
                \scalebox{0.7}{
                    \subfloat[$P \oplus (-P) = \patinf$]{
                        \begin{tikzpicture}
                            \begin{axis}[
                                axis equal,
                                ]

                                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                    set size square;
                                    set xrange [-2:2];
                                    set yrange [-2:2];
                                    set contour base;
                                    set cntrparam levels incre 0,0.1,0;
                                    unset surface;
                                    set isosamples 1000, 1000;
                                    splot y**2 - x**3 + x - 1
                                };
                                \draw[color=blue] ({axis cs:0.5,0}|-{rel axis cs:0,0}) -- ({axis cs:0.5,0}|-{rel axis cs:0,1});
                                \draw (0.5,0.790569) node[outer sep=0pt, label={300:\footnotesize $Q=-P$}](R) {\textbullet};
                                \draw (0.5,-0.790569) node[inner sep=0pt, label={300:\footnotesize $P$}](Q) {\textbullet};
                            \end{axis}
                        \end{tikzpicture}}}
            \end{figure}
        }
        \only<8>{
            \begin{figure}[H]
                \centering
                \scalebox{0.7}{
                    \subfloat[$P \oplus Q = R$]{
                        \begin{tikzpicture}
                            \begin{axis}[
                                axis equal,
                                ]

                                \draw (0,1) node[label={260:\footnotesize $Q$}](Q){\textbullet};
                                \draw (-1,1) node[label={270:\footnotesize $P$}](P){\textbullet};
                                % quad for label positioning
                                \draw (1,1) node[label={90:\footnotesize $R$}](R){\textbullet};
                                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                    set size square;
                                    set xrange [-3:3];
                                    set yrange [-2:2];
                                    set contour base;
                                    set cntrparam levels incre 0,0.1,0;
                                    unset surface;
                                    set isosamples 1000, 1000;
                                    splot y**2 - x**3 + x - 1
                                };
                                \addplot [thick, color=blue, domain=-2.5:2.5] {1};
                            \end{axis}
                        \end{tikzpicture}}}

            \end{figure}
        }
        \only<10>{
            \begin{figure}[H]
                \centering
                \scalebox{0.7}{
                    \subfloat[$P \oplus P = R$]{
                        \begin{tikzpicture}
                            \begin{axis}[
                                axis equal,
                                ytick={-2,2},
                                xtick={-2,2},
                                ]
                                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                    set size square;
                                    set xrange [-2:2];
                                    set yrange [-2:2];
                                    set contour base;
                                    set cntrparam levels incre 0,0.1,0;
                                    unset surface;
                                    set isosamples 1000, 1000;
                                    splot y**2 - x**3 + x 
                                };
                                \addplot [color=blue, domain=-1.5:1.75]{0.839146*x + -0.274337};
                                \draw (-0.25,-0.484123) node[outer sep=0pt, inner sep=0pt, label={270:\footnotesize $P$}](P) {\textbullet};
                                \draw (1.2042, 0.73621) node[inner sep=0pt, label={300:\footnotesize $R$}](R) {\textbullet};
                            \end{axis}
                        \end{tikzpicture}}}
            \end{figure}
        }
    \end{columns}
\end{frame}
\begin{frame}
    \frametitle{Mathematische Beschreibung der $\oplus$-Verknüpfung}
    \begin{thm}
        Es sei $P=(x,y),Q=(u,v)\in E\setminus\{\patinf\}$. Dann gilt:
        \begin{align*}
            \patinf\oplus\patinf&=\patinf,\quad \patinf\oplus P=(x,-y)\eqqcolon-P\quad\normalfont{und}\\
            P\oplus Q&=
            \begin{cases}
                \patinf, & \text{falls }P=-Q\\
                (w,k(w-x)+y), & \text{sonst}
            \end{cases}
        \end{align*}
        wobei
        \begin{align*}
            w=k^2-x-u\quad\normalfont{und}\quad k=
            \begin{cases}
                \frac{v-y}{u-x}, & \text{falls }P\ne\pm Q\\
                \frac{3x^2+a}{2y}, & \text{falls }P=Q\ne -P
            \end{cases}
        \end{align*}
    \end{thm}
\end{frame}

%------------------------------------------------
\subsection{Die Gruppenoperation}
%------------------------------------------------

\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
    Wir definieren die Verknüpfung $+$ für $P, Q \in E$ folgendermaßen:
    \begin{equation*} \label{plus-op}
        P + Q \coloneqq \patinf \oplus (P \oplus Q) = -(P \oplus Q).
    \end{equation*}
    \begin{thm}
        $(E, +)$ ist eine abelsche Gruppe mit neutralem Element $\patinf$.
    \end{thm}
\end{frame}

%------------------------------------------------

\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
    \begin{figure}[H]
      \centering
      \subfloat{
        \begin{tikzpicture}
            \begin{axis}[
                axis equal,
                minor tick num={1},
                minor tick num={1},
                xtick={-2, 2},
                minor xtick={-1.5,-1,-0.5,0,0.5,1,1.5},
                minor ytick={-1.5,-1,-0.5,0,0.5,1,1.5},
                ytick={-2, 2},
                scale=0.7,
                ]
                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                    set size square;
                    set xrange [-2:2];
                    set yrange [-2.2:2.2];
                    set contour base;
                    set cntrparam levels incre 0,0.1,0;
                    unset surface;
                    set isosamples 1000, 1000;
                    splot y**2 - x**3 + x - 1
                };
	         \draw (0,1) node[label={260:\footnotesize $Q$}](Q){\textbullet};
                \draw (-1,1) node[label={270:\footnotesize $P$}](P){\textbullet};
                % quad for label positioning
                \draw (1,1) node[label={90:\footnotesize $P \oplus Q \quad $}](PQ){\textbullet};
                \draw (1,-1) node[label={0:\footnotesize $P + Q$}](PQP){\textbullet};

                \addplot [thick, color=blue, domain=-2.5:2.5] {1};
                \draw [dashed, thick, color=blue] (1,1) -- (1,-1);
            \end{axis}
	\end{tikzpicture}}
	\qquad
            \subfloat{
                        \begin{tikzpicture}
                            \begin{axis}[
			        axis equal,
				minor tick num={1},
				minor tick num={1},
				xtick={-2, 2},
				minor xtick={-1.5,-1,-0.5,0,0.5,1,1.5},
				minor ytick={-1.5,-1,-0.5,0,0.5,1,1.5},
				ytick={-2, 2},
				scale=0.7,
                                ]
                                \addplot +[no markers, raw gnuplot, thin, color=red] gnuplot {
                                    set size square;
				    set xrange [-2:2];
				    set yrange [-2.2:2.2];
                                    set contour base;
                                    set cntrparam levels incre 0,0.1,0;
                                    unset surface;
                                    set isosamples 1000, 1000;
                                    splot y**2 - x**3 + x 
                                };
                                \addplot [color=blue, domain=-1.5:1.75]{0.839146*x + -0.274337};
                                \draw (-0.25,-0.484123) node[outer sep=0pt, inner sep=0pt, label={270:\footnotesize $P$}](P) {\textbullet};
                                \draw (1.2042, 0.73621) node[inner sep=0pt, label={0:\footnotesize $P\oplus P$}] {\textbullet};
				\draw (1.2042,-0.73621) node[outer sep=0pt, inner sep=0pt, label={350:\footnotesize $P+P$}](P) {\textbullet};

	                	\draw [dashed, thick, color=blue] (1.2042,-0.73621) -- (1.2042,0.73621);
                            \end{axis}
                        \end{tikzpicture}}
        \caption{Grafische Addition in $(E, +)$}
    \end{figure}
\end{frame}

%------------------------------------------------

%------------------------------------------------
\section{Anwendungen}
%------------------------------------------------
\subsection{Diskretes-Logarithmen-Problem}
%------------------------------------------------

\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
    \begin{defn} \label{DLP}
        Sei $G$ eine Gruppe und seien $x,y \in G$. Das Finden von $m \in \mathbb{N}$, so dass gilt
        \begin{equation*}
            x^m = y,
        \end{equation*}
        wird \textbf{Diskretes-Logarithmen-Problem} (kurz DLP) genannt.
    \end{defn}
    \pause
    Über elliptische Kurven:
    \begin{itemize}[<+->]
        \item Wähle $P,Q \in E$ und ein $m \in \mathbb{N}$. Das DLP ist dann die Lösung der Gleichung $mP = Q$, wobei $P$ und $Q$ bekannt sind.
        \item Die skalare Multiplikation des Punktes $P$ wird durch wiederholtes Addieren des Punktes mit sich selbst dargestellt.
    \end{itemize}

\end{frame}

%------------------------------------------------
\subsection{Sicherheit}
%------------------------------------------------

\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
Wie sicher ist das DLP über elliptische Kurven?
    \pause
    \begin{itemize}
        \item Naives Probieren: $O(|E|)$.
    \end{itemize}
    \pause
    Wir erinnern uns:
    \begin{itemize}[<+->]
        \item DLP beispielsweise mit Babystep-Giantstep in $O(\sqrt{|E|})$ lösbar.
        \item DLP mit Hilfe von Primzahlen mit Index-Calculus-Algorithmen subexponentiell lösbar.
        \item[] \textbf{Aber:} Elliptische Kurven besitzen keine ``Primzahlen''.
    \end{itemize}
\end{frame}

%------------------------------------------------
\subsection{Angriffe}
%------------------------------------------------

\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
    Beispiel: Wir wollen 13P berechnen:
    \begin{figure}[H]
        \centering
        \begin{tikzpicture}[scale=0.8]
            \foreach \y in {0.0, 1.0, ..., 12.0 }{
                \draw (\y, 0) node {$P$};
            }
            \foreach \y in {0.5, 1.5, ..., 11.5} {
                \draw (\y, 0) node {$+$};
            }
            \foreach \y in {0.5, 2.5, ..., 10.5} {
                \draw (\y, -0.75) node {$2P$};
                \draw[shorten <= 0.25cm, shorten >= 0.25cm] (\y - 0.5, 0) -- (\y, -0.75);
                \draw[shorten <= 0.25cm, shorten >= 0.25cm] (\y + 0.5, 0) -- (\y, -0.75);
            }
            \foreach \y in {1.5, 5.5, ..., 9.5} {
                \draw (\y, -1.5) node {$4P$};
                \draw (\y, -0.75) node {$+$};
                \draw[shorten <= 0.25cm, shorten >= 0.25cm] (\y - 1.0, -0.75) -- (\y, -1.5);
                \draw[shorten <= 0.25cm, shorten >= 0.25cm] (\y + 1.0, -0.75) -- (\y, -1.5);
            }
            \draw (3.5, -2.25) node {$8P$};
            \draw (3.5, -1.5) node {$+$};
            \draw[shorten <= 0.25cm, shorten >= 0.25cm] (3.5 - 2.0, -1.5) -- (3.5, -2.25);
            \draw[shorten <= 0.25cm, shorten >= 0.25cm] (3.5 + 2.0, -1.5) -- (3.5, -2.25);
            \draw (7.5, -2.25) node {$+$};
            \draw (11.5, -2.25) node {$+$};
            \draw (9.5, -2.25) node {$4P$};
            \draw (12.0, -2.25) node {$P$};

        \end{tikzpicture}
        \caption{Effiziente Skalarmultiplikation mit Additionsbaum}
    \end{figure}
    \vspace{-2em}
    \pause
    \begin{itemize}[<+->]
        \item Fallunterscheidungen bei Addition notwendig.
        \item[] $\Rightarrow$ Rückschlüsse über Schlüssel mit Seitenkanalangriff möglich.
    \end{itemize}
    \pause
Lösung:
    \begin{itemize}[<+->]
        \item Dummy-Additionen
	\item Edwards-Kurven benötigen keine Fallunterscheidungen
    \end{itemize}
\end{frame}

%------------------------------------------------
\begin{frame}
    \frametitle{\insertsection~--~\insertsubsection}
    Weitere Angriffe:
    \begin{itemize}
        \item Isomorphismus-Angriffe
	\item Angriffe durch Reduzierung auf Untergruppen
    \end{itemize}
    \pause
    Lösung:
    \begin{itemize}
	 \item Geeignete Parameter für die Kurve wählen (NIST-Vorschläge)
    \end{itemize}
\end{frame}

%------------------------------------------------
\section*{}
%------------------------------------------------

\begin{frame}
    \Huge{\centerline{The End}}
    \vfill
    \center{\small{Zusammengefasst: Elliptische Kurven sind einfach super.}}
\end{frame}

%----------------------------------------------------------------------------------------
\end{document}
